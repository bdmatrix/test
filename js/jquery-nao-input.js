"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e:e(jQuery)}(function(ye){return ye("html").on("dragover drop",function(e){e.preventDefault()}),ye.fn.mCustomScrollbarx=function(e){return this},ye.fn.naoInput=function(e){var fe={theme:"minimal-dark",scrollInertia:250,advanced:{autoScrollOnFocus:!1,updateOnContentResize:!0,updateOnImageLoad:!0,updateOnSelectorChange:!1,releaseDraggableSelectors:!1},keyboard:{enable:!1},mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1,disableOver:["datalist"]}},ve={label:"",attr:{},options:[]};ve=ye.extend(ve,e);var me=function(e){e&&e.preventDefault&&e.keyCode&&13==e.keyCode&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation()};function he(e){ye(e.target).parent().addClass("input--filled")}function be(e){""===ye(e.target).val().trim()?ye(e.target).val("").parent().removeClass("input--filled"):ye(e.target).parent().addClass("input--filled")}return this.each(function(e,t){var r=ye(t),a=r.attr("id")?r.attr("id"):"IN"+parseInt(1e10*Math.random()),n=r.is("input")&&r.attr("type")?r.attr("type"):void 0,o=r.attr("placeholder");if("string"==typeof o&&""!==o.trim()&&(ve.label=o,r.attr("placeholder","")),"submit"!=n&&"reset"!=n&&"button"!=n)if("radio"!=n&&"checkbox"!=n)if("file"!=n)if("number"!=n)if("range"!=n)if("time"!=n)if("date"!=n){if("combobox"==n||r.is("input")&&0<ve.options.length){var l=-1,s=0,i=(D=!1,!1),d=(S=ye([]),T=function(e){D=!1,e&&e.stopPropagation(),Q.removeClass("cs-active"),ye(window).off("mousedown",M),S.off("focus",M),u.find(".mCustomScrollBox").removeAttr("tabindex")},_=function(e){D=!0,e&&e.stopPropagation(),i?u.mCustomScrollbar("scrollTo","top"):i=u.mCustomScrollbar(fe),Q.addClass("cs-active"),ye(window).on("mousedown",M),S=ye("a, input, textarea, button, select, [tabindex]").not(Q.parents().add(Q.children()).add(Q)).on("focus",M),u.find(".mCustomScrollBox").removeAttr("tabindex")},N=function(e){e.stopPropagation(),D?T(e):_(e)},M=function(e){ye(e.originalEvent.target).parentsUntil("body").index(Q)<0&&T(e)},function(e){e.stopPropagation(),D||(_(e),p(e))}),p=function(e){var t=f.children("li.cs-focus");1==t.length&&e.originalEvent&&" "==e.originalEvent.data&&(t.trigger("click"),r.blur()),t.removeClass("cs-focus");var a=r.val().trim();if(""==a)return f.removeClass("empty").children("li").addClass("visible");var n=new RegExp(a.split(/[\W\s]+/g).join(".+?"),"g"),o=[],i=[];f.children("li").each(function(e,t){null!==ye(t).text().match(n)?o.push(t):i.push(t)});l=-1,ye(i).removeClass("visible"),ye(o).addClass("visible"),clearTimeout(s),s=setTimeout(function(){u.find(".mCustomScrollBox").removeAttr("tabindex")},500),0==o.length?f.addClass("empty"):f.removeClass("empty")};r.addClass("input__field input__combobox--nao").attr(ve.attr).attr("placeholder",ve.label).focus(d).click(d).on("input",p),"combobox"==n&&r.attr("type","text");Q=ye("<div>").addClass("nao-input cs-select cs-skin-elastic input--nao--combobox").insertAfter(r).prepend(r).on("keyup keydown keypress",function(e){if(e&&"keyup"==e.type&&13==e.keyCode){var t=f.children("li.cs-focus");1==t.length&&(t.trigger("click"),r.blur())}}).blur(function(e){}).keydown(function(e){if(38==e.keyCode||40==e.keyCode){e.preventDefault(),f.children("li.cs-focus").removeClass("cs-focus");var t=f.children("li.visible");(l+=38==e.keyCode?-1:1)<0&&(l=0),l>t.length-1&&(l=t.length-1);var a=ye(t[l]).addClass("cs-focus");u.mCustomScrollbar("scrollTo",a)}}).on("keyup keydown keypress",me);var c=ye("<span>").addClass("cs-placeholder").attr("placeholder",ve.label).insertAfter(r).prepend(r).on("click",function(e){N(e),D&&!r.is(":focus")&&(r.focus(),p(e))}),u=ye("<div>").addClass("cs-options").insertAfter(c),f=ye("<ul>").appendTo(u),v=ve.options;for(e=0;e<v.length;e++)f.append('<li class="combobox-option"><span>'+v[e]+"</span></li>");return setTimeout(function(){u.find(".mCustomScrollBox").removeAttr("tabindex")},1e3),void f.find("li").ripple().on("click",function(e){r.val(ye(e.target).text().trim()),N(e)})}if(r.is("select")){l=-1,s=0,D=!1,i=!1,S=ye([]),T=function(e){D=!1,e&&e.stopPropagation(),Q.removeClass("cs-active"),ye(window).off("mousedown",M),S.off("focus",M),u.find(".mCustomScrollBox").removeAttr("tabindex")},_=function(e){D=!0,e&&e.stopPropagation(),i||(i=u.mCustomScrollbar(fe)),Q.addClass("cs-active"),ye(window).on("mousedown",M),S=ye("a, input, textarea, button, select, [tabindex]").not(Q.parents().add(Q.children()).add(Q)).on("focus",M),u.find(".mCustomScrollBox").removeAttr("tabindex");var t=f.children("li"),a=ye(t[l]).addClass("cs-focus");u.mCustomScrollbar("scrollTo",a)},N=function(e){D?T(e):_(e)},M=function(e){ye(e.originalEvent.target).parentsUntil("body").index(Q)<0&&T(e)},d=function(e){e.stopPropagation(),D||_(e)};var m=function(e){e&&e.stopPropagation&&e.stopPropagation();var t=ye(this),a=t.attr("value");t.addClass("cs-selected cs-focus").attr("selected","selected").siblings(".cs-selected, .cs-focus").removeClass("cs-selected cs-focus").removeAttr("selected"),r.find('[value="'+a+'"]').first().attr("selected",!0).siblings("[selected]").removeAttr("selected"),r.val(a),c.html(t.text()),l=f.children("li").index(t),r.trigger("input",{isForcedAction:!0}).trigger("change",{isForcedAction:!0}),D&&T(e)};r.addClass("input__field input__combobox--nao").attr(ve.attr).attr("placeholder",ve.label).on("input change",function(e,t){if(console.log("NAO CHANNGE",t),!t||!t.isForcedAction){var a=r.val();console.log(f.find('[value="'+a+'"]').first());var n=f.find('[value="'+a+'"]').first();0<n.length&&m.bind(n[0])()}}).focus(function(e){e.preventDefault()});Q=ye("<div>").attr("tabindex",0).addClass("nao-input cs-select cs-skin-elastic input--nao--select").insertAfter(r).prepend(r).on("keyup keydown keypress",function(e){if(e&&("keyup"==e.type&&13==e.keyCode||"keydown"==e.type&&32==e.keyCode)){if(e.preventDefault(),!D)return _(e);var t=f.children("li.cs-focus");1==t.length&&m.bind(t[0])()}}).on("keyup keydown keypress",me).blur(function(e){}).keydown(function(e){if(38==e.keyCode||40==e.keyCode){e.preventDefault(),f.children("li.cs-focus").removeClass("cs-focus");var t=f.children("li");(l+=38==e.keyCode?-1:1)<0&&(l=0),l>t.length-1&&(l=t.length-1);var a=ye(t[l]).addClass("cs-focus");u.mCustomScrollbar("scrollTo",a),D||m.bind(a[0])()}}),c=ye("<span>").attr("placeholder",ve.label).addClass("cs-placeholder").insertAfter(r).on("click",function(e){e.stopPropagation(),e.preventDefault(),r.trigger("focus",e),N(e)}),u=ye("<div>").addClass("cs-options").insertAfter(c),f=ye("<ul>").appendTo(u),v=ve.options;if(Array.isArray(ve.options)&&0<ve.options.length){var h=ve.options;r.empty(),h.forEach(function(e){var t="object"==(void 0===e?"undefined":_typeof(e))&&1==e.selected;ye("<li>").attr("value","object"==(void 0===e?"undefined":_typeof(e))?e.value:e).attr("class","object"==(void 0===e?"undefined":_typeof(e))&&e.class?e.class:"").attr("selected",t?"selected":"").addClass(t?"cs-selected":"").append("<span>"+("object"==(void 0===e?"undefined":_typeof(e))?e.text:e)+"</span>").appendTo(f),ye("<option>").html("object"==(void 0===e?"undefined":_typeof(e))?e.text:e).attr("value","object"==(void 0===e?"undefined":_typeof(e))?e.value:e).attr("data-class","object"==(void 0===e?"undefined":_typeof(e))&&e.class?e.class:"").appendTo(r)})}else r.find("option").each(function(e,t){var a=ye(t),n=a.html().trim(),o=a.attr("data-class"),i=a.attr("value"),r=!(!a.attr("selected")||"selected"!=a.attr("selected")&&"true"!=a.attr("selected")),l=ye("<li>").attr("value",i||"").attr("class",o||"").append("<span>"+(""!=n?n:i||"")+"</span>").appendTo(f);r&&l.attr("selected","selected").addClass("cs-selected")});return f.children('li[selected=""]').removeAttr("selected"),(E=r.attr("value"))&&0<r.find('[value="'+E+'"]').length?(f.find('[value="'+E+'"]').first().addClass("cs-selected").attr("selected","selected").siblings(".cs-selected").removeClass("cs-selected").removeAttr("selected"),r.find('[value="'+E+'"]').first().attr("selected",!0).siblings("[selected]").removeAttr("selected")):r.removeAttr("value"),setTimeout(function(){u.find(".mCustomScrollBox").removeAttr("tabindex")},1e3),f.children("li").ripple().on("click",m),void f.children('li[selected="selected"]').click()}if(r.is("textarea")){r.attr(ve.attr).addClass(""===r.val()?"input__area--nao empty":"input__area--nao");var b=ye("<div>").addClass("input--nao--area"),y=ye('<div class="area-placeholder"></div>').text(ve.label),g=ye("<div>").addClass("textarea--nao--wrap").insertAfter(r).append(r).append(y).append(b),C=(Q=ye("<div>").addClass("nao-input textarea--nao").insertAfter(g).append(g).on("keyup keydown keypress",me),parseInt(r.css("line-height")));g.mCustomScrollbar({theme:"minimal-dark",scrollInertia:0,advanced:{autoScrollOnFocus:!1},keyboard:{enable:!1},snapAmount:C,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1,disableOver:["datalist"]}}).find(".mCustomScrollBox").removeAttr("tabindex");var k=r,x=b;k.bind("keyup keydown input change",function(e){var t=ye(this),a=t.val(),n=(a.length,k.getCursorPosition());""===a?t.addClass("empty"):t.removeClass("empty"),a=(a="<span>"+a.substr(0,n)+(0<a.substr(0,n).search(/[^\n\r][\n\r]$/)?"<br/>":"")+"</span>"+a.substr(n,a.length)).replace(/\n/g,"<br />"),x.html(a+""),t.css("height",x.height());var o=x.children("span"),i=parseInt(x.css("min-height"))-0,r=Math.round(o.height()+g.find(".mCSB_container").position().top);(i<r||r<0)&&(0<o.height()-0?g.mCustomScrollbar("scrollTo",o.height()-0-C):g.mCustomScrollbar("scrollTo","top"))})}else{if(r.is("input")){r.attr(ve.attr).attr({id:a});var w=ve.label;w='<label for="'+a+'">\t\t\t\t\t<span>'+ve.label+'</span>\t\t\t\t</label>\t\t\t\t<svg width="100%" height="100%" viewBox="0 0 400 60" preserveAspectRatio="none">\t\t\t\t\t<line x1="0" y1="58" x2="100%" y2="58" stroke-opacity="0.6"/>\t\t\t\t</svg>\t\t\t\t<svg width="100%" height="100%" viewBox="0 0 400 60" preserveAspectRatio="none">\t\t\t\t\t<line x1="0" y1="58" x2="100%" y2="58" stroke-opacity="1.0"/>\t\t\t\t</svg>';Q=ye("<div>").addClass("nao-input input--nao--txt").html(w).insertAfter(r).prepend(r).on("keyup keydown keypress",me);return""!==r.val().trim()&&r.addClass("input--filled"),r.on("focus",he),r.on("blur",be),void requestAnimationFrame(function(){r.trigger("blur")})}r.is("button")&&r.addClass("nao-input input--nao--btn").ripple({duration:1e3}).on("keyup keydown keypress",me)}}else{"Sun Mon Tue Wed Thu Fri Sat".split(" ");var A="January February March April May June July August September October November December".split(" "),D=("Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),!1),S=ye([]),T=function(e){D=!1,Q.removeClass("open"),ye(window).off("mousedown",M),S.off("focus",M)},_=function(e){D=!0,Q.addClass("open"),ye(window).on("mousedown",M),S=ye("a, input, textarea, button, select, [tabindex]").not(Q.parents().add(Q.children()).add(Q)).on("focus",M)},N=function(e){e&&e.preventDefault&&e.preventDefault(),D?T(e):_(e)},M=function(e){ye(e.originalEvent.target).parentsUntil("body").index(Q)<0&&T(e)};F=function(e){var t=e.split("-");return[t[2],A[1*t[1]-1],t[0]].join(" ")},j=function(e){var t=e.split("-"),a=ye(R);ie.html([t[2],A[1*t[1]-1],t[0]].join(" ")),a.prop("selected").y=Number(t[0]),a.prop("selected").m=Number(t[1]),a.prop("selected").d=Number(t[2])},I=function(e){r.val(null),ie.html(""),R.find("td.active").removeClass("active"),ye(R).prop("selected").d=0};r.addClass("input__date--nao").attr(ve.attr).attr({id:a}).on("input",function(e){}).on("change",function(e){D&&T(e),j(r.val())});E=r.val()||r.attr("value"),ie=ye("<button>").addClass("nao-label").attr("label",ve.label).html(F(E)).click(N),ue=ye("<button>").addClass("nao-label").html(F(E)).click(N),Y=ye("<span>").addClass("ic ic-cross").click(I),R=ye("<div>").addClass("nao-date").calendar({autoSelect:!0,select:function(e){var t=[e.getFullYear(),e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1,e.getDate()<10?"0"+e.getDate():e.getDate()],a=t.join("-"),n=[t[2],A[t[1]-1],t[0]].join(" ");r.val(a),ie.html(n)},toggle:function(e,t){ye(this).prop("selected")}});"string"==typeof E&&3===E.split("-").length&&j(E);Q=ye("<div>").addClass("nao-input input--nao--date").append(ie).append(Y).append(R).insertAfter(r).prepend(r).on("keyup keydown keypress",me)}else{var D=!1,S=ye([]),T=function(e){D=!1,Q.removeClass("open"),ye(window).off("mousedown",M),S.off("focus",M)},_=function(e){D=!0,Q.addClass("open"),ye(window).on("mousedown",M),S=ye("a, input, textarea, button, select, [tabindex]").not(Q.parents().add(Q.children()).add(Q)).on("focus",M)},N=function(e){e&&e.preventDefault&&e.preventDefault(),D?T(e):_(e)},M=function(e){ye(e.originalEvent.target).parentsUntil("body").index(Q)<0&&T(e)},F=function(e){return e.split(":").join(":")},j=function(e){var t=e.split(":").map(function(e){return parseInt(e)}),a=(ye(R),t[0]<=12&&0<t[0]?t[0]:0==t[0]?12:t[0]%12);ie.html([a<10?"0"+a:a,":",t[1]<10?"0"+t[1]:t[1],t[0]<12?"AM":"PM"].join(" "))},I=function(e){r.val(null),ie.html(""),W.html(""),q.html("");ye(R)},P=function(e,t,a,n){var o=n?1:0,i=0;return a=parseInt(a)+o,e=parseInt(e)%a,t=parseInt(t)%a,Number.isNaN(e)&&(e=o),(i=a<=e+t?(o+t-1)%a:e+t<o?(a+t)%a:(e+t)%a)<10?"0"+i:""+i},B=function(e,t){W.text(P(W.text().trim(),e,12,!0)),q.text(P(q.text().trim(),t,60)),J()},J=function(){var e=parseInt(W.text()),t=parseInt(q.text()),a="AM"!==L.text().trim();Number.isNaN(e)&&(e=12),Number.isNaN(t)&&(t=0);var n=[(e=a?12+e%12:e%12)<10?"0"+e:e,t<10?"0"+t:t,"00"].join(":");j(n),r.val(n)},O=function(e){j(e);var t=e.split(":").map(function(e){return parseInt(e)}),a=(ye(R),t[0]<=12&&0<t[0]?t[0]:0==t[0]?12:t[0]%12),n=[a<10?"0"+a:a,t[1]<10?"0"+t[1]:t[1],t[0]<12?"AM":"PM"];W.text(n[0]),q.text(n[1]),L.text(n[2])};r.addClass("input__date--nao").attr(ve.attr).attr({id:a}).on("input",function(e){}).on("change",function(e){D&&T(e),O(r.val())});var E=r.val()||r.attr("value"),Y=(ie=ye("<button>").addClass("nao-label").attr("label",ve.label).html(F(E)).click(N),ye("<span>").addClass("ic ic-cross").click(I)),R=ye("<div>").addClass("nao-date").addClass("nao-time"),U=ye("<div>").appendTo(R),W=ye("<div>").html(""),z=ye("<button>").addClass("ic ic-arrow-angle-up").ripple().click(function(e){e.preventDefault(),B(1,0)}),G=ye("<button>").addClass("ic ic-arrow-angle-down").ripple().click(function(e){e.preventDefault(),B(-1,0)}),q=(ye("<div>").addClass("time-strip").appendTo(U).append(z).append(W).append(G),ye("<div>").html("")),V=ye("<button>").addClass("ic ic-arrow-angle-up").ripple().click(function(e){e.preventDefault(),B(0,1)}),H=ye("<button>").addClass("ic ic-arrow-angle-down").ripple().click(function(e){e.preventDefault(),B(0,-1)}),L=(ye("<div>").addClass("time-strip").appendTo(U).append(V).append(q).append(H),ye("<button>").addClass("ampm").html("AM").ripple().click(function(e){e.preventDefault(),L.text("AM"===L.text().trim()?"PM":"AM"),B(0,0),J()}));ye("<div>").addClass("time-strip").appendTo(U).append("<div>&nbsp;</div>").append(L).append("<div>&nbsp;</div>");"string"==typeof E&&3===E.split(":").length&&O(E);var Q=ye("<div>").addClass("nao-input input--nao--date").append(ie).append(Y).append(R).insertAfter(r).prepend(r).on("keyup keydown keypress",me)}else{r.addClass("input__range--nao").attr(ve.attr).attr({id:a}).on("input change",function(e){var t=r.val();te||(oe.slider("value",t).find("span.ui-slider-handle").attr("title",t),ae.html("<span>"+t+"</span>"),ne.html(t))});var $=parseFloat(r.attr("min")),K=parseFloat(r.attr("max")),X=parseFloat(r.attr("step")),Z=parseFloat(r.attr("value")),ee=r.attr("data-orientation"),te=!1,ae=ye("<span>").addClass("ui-slider-counter"),ne=(ue=ye("<div>").addClass("nao-label").html("<span>"+ve.label+"</span>"),ye("<span>").addClass("nao-range-value").html(Z).appendTo(ue)),oe=ye("<div>").addClass("nao-slider").slider({min:Number.isNaN($)?0:$,max:Number.isNaN(K)?100:K,step:Number.isNaN(X)?.001:X,value:Number.isNaN(Z)?0:Z,animate:"fast",orientation:"vertical"===ee?ee:"horizontal",create:function(e,t){var a=Number.isNaN(Z)?ye(this).slider("value"):Z;ye(this).find("span.ui-slider-handle").attr("title",a).append(ae.html("<span>"+a+"</span>"));ne.html(a)},slide:function(e,t){var a=t.value;r.val(a).trigger("input"),ye(this).find("span.ui-slider-handle").attr("title",a),ae.html("<span>"+a+"</span>"),ne.html(a)},start:function(e,t){r.trigger("focus",e).trigger("refocus",e),te=!0},stop:function(e,t){r.trigger("change",e),te=!1}}),Q=ye("<div>").addClass("nao-input input--nao--range").append(ue).append(oe).insertAfter(r).prepend(r).on("keyup keydown keypress",me)}else{r.addClass("input__num--nao").attr(ve.attr).on("input",function(e){E.text(r[0].value)});var ie=ye("<span>").text(ve.label),E=ye("<span>").text(r[0].value),re=ye("<button>").addClass("ic ic-arrow-angle-left").ripple().attr("title","Decriment").click(function(e){e.preventDefault(),r[0].stepDown(),E.text(r[0].value)}),le=ye("<button>").addClass("ic ic-arrow-angle-right").ripple().attr("title","Increment").click(function(e){e.preventDefault(),r[0].stepUp(),E.text(r[0].value)}),Q=ye("<div>").addClass("nao-input input--nao--num").insertAfter(r).prepend(r).prepend(ie).prepend(re).append(E).append(le).on("keyup keydown keypress",me)}else{r.addClass("input__file--nao").attr(ve.attr).attr({id:a}).on("change",function(e){for(var t=[],a=r[0].files,n=0;n<a.length;n++)t.push(a[n].name);1==a.length?pe.text(a[0].name):1<a.length?pe.text(a.length+" files selected."):pe.text("")});var se="file",de=r.attr("accept"),ie=ve.label;void 0===de?se=void 0!==r.attr("directory")||void 0!==r.attr("webkitdirectory")?"folder":"file":0==de.search(/image\/./)?se="image":0==de.search(/audio\/./)?se="logo-itunes":0==de.search(/video\/./)&&(se="video");var pe=ye("<span>"),ce=ye("<span>").html(ie),ue=ye('<label for="'+a+'">').prepend(ye('<span class="ic ic-'+se+'"></span>').ripple({type:"icon-big"})).append(ce).append(pe),Q=ye("<div>").addClass("nao-input input--nao--file").append(ue).insertAfter(r).prepend(r).on("keyup keydown keypress",me)}else{r.addClass("input__radio--nao").attr(ve.attr).attr({id:a});var ue=ye('<label for="'+a+'">').html(ve.label),ie=ye('<label for="'+a+'" class="ic">').html("").ripple({type:"icon-big"}),Q=ye("<div>").addClass("nao-input input--nao--radio").append(ue).append(ie).insertAfter(r).prepend(r).on("keyup keydown keypress",me)}else{r.addClass("input__field input__field--nao").attr(ve.attr);var Q=ye("<div>").addClass("nao-input input--nao--btn").ripple({duration:"2x"}).insertAfter(r).prepend(r).on("keyup keydown keypress",me)}}),this},ye.fn.getCursorPosition=function(){var e=ye(this).get(0),t=0;if("selectionStart"in e)t=e.selectionStart;else if("selection"in document){e.focus();var a=document.selection.createRange(),n=document.selection.createRange().text.length;a.moveStart("character",-e.value.length),t=a.text.length-n}return t},ye.fn.calendar=function(e,t){var i=this,m={date:new Date,autoSelect:!1,select:function(e){},toggle:function(e,t){}},r={y:m.date.getFullYear(),m:m.date.getMonth()+1,d:m.date.getDate()},l={y:0,m:0,d:0};ye(this).prop("selected",l),m=ye.extend(m,e);for(var h="Sun Mon Tue Wed Thu Fri Sat".split(" "),s="January February March April May June July August September October November December".split(" "),d=("Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),(new Date).getDate(),function(t,a,e){var n=ye("<table>").addClass("month-body"),o=ye("<thead>").addClass("month-week").appendTo(n).append("<tr></tr>").find("tr"),i=ye("<tbody>").addClass("month-days").appendTo(n);for(u=0;u<7;u++)o.append("<th>"+h[u]+"</th>");for(var r=new Date(t,a-1,1),l=new Date,s=l.getDate(),d=!(l.getMonth()+1!==a||l.getFullYear()!==t),p=new Date(t,a,0).getDate(),c=(Math.ceil((p+r.getDay())/7),1),u=0;u<6;u++){for(var f=ye("<tr>").appendTo(i),v=0;v<7;v++)0===u&&v<r.getDay()||p<c?f.append("<td></td>"):(ye("<td>").text(c<10?"0"+c:c).addClass(d&&c===s?"today":"").attr("data-date",c).appendTo(f).click(function(e){ye(this).parent().parent().find(".active").removeClass("active"),ye(this).addClass("active"),b(t,a,parseInt(ye(this).attr("data-date")))}),c++);5===u&&7===i.children(":first").text().split(" ").join("").split("0").join("").length&&f.prependTo(i)}return i.find("td[data-date]").ripple(),m.autoSelect&&i.find('td[data-date="'+e+'"]').click(),n}),b=function(e,t,a){l.d=a,l.m=t,l.y=e;var n=new Date(e,t-1,a);m.select.bind(i)(n)},n=function(t,e,a,n){p=!0,u.addClass("no-overflow"),C.text(s[a-1]+" "+e),D.text(e),S.find(".active").removeClass("active"),S.find('[data-month="'+a+'"]').addClass("active"),null===n&&e===l.y&&a===l.m&&(n=l.d);var o=d(e,a,n).addClass(t).insertBefore(k);m.toggle.bind(i)(r.y,r.m),setTimeout(function(){o.addClass("come")},1e3/60),k.one("transitionend",function(e){k.remove(),(k=o).removeClass(t+" come"),u.removeClass("no-overflow"),p=!1})},a=function(e){x.addClass("visible")},o=function(e){x.removeClass("visible")},p=!1,c=m.date,u=ye(this[0]).addClass("nao-month"),f=ye("<button>").addClass("ic ic-arrow-angle-left").ripple().attr("title","Previous month").click(function(e){e.preventDefault(),p||(r.m=r.m-1==0?12:r.m-1,r.y=12===r.m?r.y-1:r.y,n("prev",r.y,r.m,null))}).focus(o),v=ye("<button>").addClass("ic ic-arrow-angle-right").ripple().attr("title","Next month").click(function(e){e.preventDefault(),p||(r.m=r.m+1===13?1:r.m+1,r.y=1===r.m?r.y+1:r.y,n("next",r.y,r.m,null))}).focus(o),y=ye("<button>").addClass("btn ic ic-arrow-circle-angle-down").ripple().attr("title","View current month").click(function(e){if(e.preventDefault(),!p){var t=new Date;if(t.getFullYear()!==r.y||t.getMonth()+1!==r.m){var a=12*r.y+r.m>12*t.getFullYear()+t.getMonth()+1?"prev":"next";r.y=t.getFullYear(),r.m=t.getMonth()+1,n(a,r.y,r.m,null)}}}).focus(o),g=ye("<button>").addClass("btn ic ic-target").ripple().attr("title","View selected date").click(function(e){if(e.preventDefault(),!p&&!(l.d<1||l.y===r.y&&l.m===r.m)){var t=12*r.y+r.m>12*l.y+l.m?"prev":"next";r.y=l.y,r.m=l.m,n(t,r.y,r.m,null)}}).focus(o),C=ye("<div>").text(s[c.getMonth()]+" "+c.getFullYear()).attr("title","Select year and month").click(a),k=(ye("<div>").addClass("month-head").append(f).append(y).append(C).append(g).append(v).appendTo(u),d(r.y,r.m,e&&e.date?r.d:null).appendTo(u)),x=(m.toggle.bind(i)(r.y,r.m),ye("<div>").addClass("year-month").prependTo(u)),w=ye("<button>").addClass("ic ic-arrow-angle-right").ripple().click(function(e){e.preventDefault(),p||(r.y++,D.text(r.y),n("next",r.y,r.m,null))}).focus(a),A=ye("<button>").addClass("ic ic-arrow-angle-left").ripple().click(function(e){e.preventDefault(),p||(r.y--,D.text(r.y),n("prev",r.y,r.m,null))}).focus(a),D=ye("<div>").text(r.y).attr("title","Go back to calendar").click(o),S=(ye("<div>").addClass("month-head").append(A).append(D).append(w).appendTo(x),ye("<table>").addClass("year-body").appendTo(x).html("<tbody></tbody>").find("tbody")),T=(ye("<div>").addClass("year-footer ic ic-arrow-circle-angle-up").attr("title","Go back to calendar").ripple().appendTo(x).click(function(e){x.removeClass("visible")}),0);T<4;T++)for(var _=ye("<tr>").appendTo(S),N=0;N<3;N++){var M=3*T+N;ye("<td>").text(s[M]).attr("data-month",M+1).addClass(r.m===M+1?"active":"").appendTo(_).ripple().click(function(e){if(!p){var t=parseInt(ye(this).attr("data-month"));if(t!=r.m){var a=r.m>t?"prev":"next";r.m=t,ye(this).parent().parent().find(".active").removeClass("active"),ye(this).addClass("active"),n(a,r.y,r.m,null)}}})}return this},ye});